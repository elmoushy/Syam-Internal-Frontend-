import{d as G,y as P,H as O,c as y,r as m,k as z,g as W,a as i,b as l,B as p,i as g,n as t,t as r,p as x,a5 as w,G as F,F as Q,e as U,m as N,Q as j,P as J,T as K,u as X,l as Y,o,q as Z,_ as ee}from"./index-uWeSuK_C.js";import{z as le,A as te}from"./newsService-BNx5wE9G.js";const ae=["data-theme","dir"],se=["innerHTML"],re=["onClick"],ne=G({__name:"NewsDetails",setup(je){const k=z(),T=Y(),B=P(),{currentTheme:S,currentLanguage:M}=O(B),n=y(()=>M.value==="ar"),s=m(null),d=m(!0),v=m(null),u=m(0),b=m(!1),$=y(()=>Number(k.params.id)),c=y(()=>{var e;return(e=s.value)!=null&&e.images?s.value.images:[]}),q=y(()=>c.value[u.value]),D=y(()=>{var a;return s.value?((a={SLIDER:{ar:"تقنية",en:"Technology"},NORMAL:{ar:"أخبار",en:"News"},ACHIEVEMENT:{ar:"إنجاز",en:"Achievement"}}[s.value.news_type])==null?void 0:a[n.value?"ar":"en"])||s.value.news_type:""}),h=()=>{T.push({name:"News"})},V=e=>{const a=new Date(e);return n.value?a.toLocaleDateString("ar-SA",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):a.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},A=e=>{u.value=e,b.value=!0},I=()=>{b.value=!1},E=()=>{u.value=(u.value+1)%c.value.length},R=()=>{u.value=(u.value-1+c.value.length)%c.value.length},H=y(()=>k.query.type||"SLIDER"),C=async()=>{try{d.value=!0,v.value=null;let e;H.value==="SLIDER"?e=await le($.value):e=await te($.value),e.status==="success"&&e.data?s.value=e.data:e.id?s.value=e:v.value=n.value?"فشل في تحميل الخبر":"Failed to load news"}catch(e){console.error("Error loading news:",e),v.value=n.value?"حدث خطأ أثناء تحميل الخبر":"Error loading news"}finally{d.value=!1}};return W(()=>{C()}),(e,a)=>{var f;return o(),i("div",{class:t(e.$style.page),"data-theme":X(S),dir:n.value?"rtl":"ltr"},[l("div",{class:t(e.$style.container)},[l("nav",{class:t(e.$style.breadcrumb)},[l("span",{class:t(e.$style.breadcrumbLink),onClick:h},r(n.value?"الأخبار والإنجازات":"News & Achievements"),3),l("span",{class:t(e.$style.breadcrumbSeparator)},"/",2),l("span",{class:t(e.$style.breadcrumbLink),onClick:h},r(n.value?"الأخبار":"News"),3),l("span",{class:t(e.$style.breadcrumbSeparator)},"/",2),l("span",{class:t(e.$style.breadcrumbCurrent)},r((f=s.value)==null?void 0:f.title),3)],2),l("button",{class:t(e.$style.backButton),onClick:h},[a[0]||(a[0]=l("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[l("circle",{cx:"12",cy:"12",r:"10"}),l("path",{d:"M12 8l-4 4 4 4M16 12H8"})],-1)),x(" "+r(n.value?"العودة الى الاخبار":"Back to News"),1)],2),d.value?(o(),i("div",{key:0,class:t(e.$style.loading)},[l("div",{class:t(e.$style.spinner)},null,2),l("span",null,r(n.value?"جاري التحميل...":"Loading..."),1)],2)):v.value?(o(),i("div",{key:1,class:t(e.$style.error)},[l("span",null,"⚠️ "+r(v.value),1),l("button",{onClick:C},r(n.value?"إعادة المحاولة":"Retry"),1)],2)):s.value?(o(),i("article",{key:2,class:t(e.$style.article)},[l("div",{class:t(e.$style.articleContent)},[l("div",{class:t(e.$style.mainImageWrapper)},[s.value.main_image?(o(),p(w,{key:0,src:s.value.main_image.download_url,alt:s.value.title,class:t(e.$style.mainImage)},null,8,["src","alt","class"])):g("",!0),l("div",{class:t(e.$style.badge)},[a[1]||(a[1]=l("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"})],-1)),l("span",null,r(D.value),1)],2)],2),l("h1",{class:t(e.$style.title)},r(s.value.title),3),l("div",{class:t(e.$style.meta)},[l("div",{class:t(e.$style.metaItem)},[a[2]||(a[2]=l("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[l("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),l("circle",{cx:"12",cy:"7",r:"4"})],-1)),l("div",{class:t(e.$style.metaText)},[l("span",{class:t(e.$style.metaLabel)},r(n.value?"الكاتب":"Author"),3),l("span",{class:t(e.$style.metaValue)},r(s.value.author_name),3)],2)],2),l("div",{class:t(e.$style.metaItem)},[a[3]||(a[3]=F('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>',1)),l("div",{class:t(e.$style.metaText)},[l("span",{class:t(e.$style.metaLabel)},r(n.value?"تاريخ النشر":"Published"),3),l("span",{class:t(e.$style.metaValue)},r(V(s.value.created_at)),3)],2)],2)],2)],2),l("div",{class:t(e.$style.articleContent)},[l("div",{class:t(e.$style.content),innerHTML:s.value.details},null,10,se),c.value.length>0?(o(),i("section",{key:0,class:t(e.$style.gallery)},[l("h2",{class:t(e.$style.galleryTitle)},[l("span",{class:t(e.$style.galleryTitleBar)},null,2),x(" "+r(n.value?"معرض الصور":"Image Gallery"),1)],2),l("div",{class:t(e.$style.galleryGrid)},[(o(!0),i(Q,null,U(c.value,(L,_)=>(o(),i("div",{key:L.id,class:t([e.$style.galleryItem,{[e.$style.galleryItemLarge]:_===0}]),onClick:Je=>A(_)},[N(w,{src:L.download_url,alt:`Image ${_+1}`,class:t(e.$style.galleryImage)},null,8,["src","alt","class"]),l("div",{class:t(e.$style.galleryOverlay)},a[4]||(a[4]=[l("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[l("circle",{cx:"11",cy:"11",r:"8"}),l("path",{d:"M21 21l-4.35-4.35"}),l("path",{d:"M11 8v6M8 11h6"})],-1)]),2)],10,re))),128))],2)],2)):g("",!0)],2)],2)):g("",!0)],2),(o(),p(K,{to:"body"},[N(J,{name:"lightbox"},{default:j(()=>[b.value?(o(),i("div",{key:0,class:t(e.$style.lightbox),onClick:Z(I,["self"])},[l("button",{class:t(e.$style.lightboxClose),onClick:I},a[5]||(a[5]=[l("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[l("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),l("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]),2),c.value.length>1?(o(),i("button",{key:0,class:t([e.$style.lightboxNav,e.$style.lightboxPrev]),onClick:R},a[6]||(a[6]=[l("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[l("polyline",{points:"15 18 9 12 15 6"})],-1)]),2)):g("",!0),q.value?(o(),p(w,{key:1,src:q.value.download_url,alt:`Image ${u.value+1}`,class:t(e.$style.lightboxImage)},null,8,["src","alt","class"])):g("",!0),c.value.length>1?(o(),i("button",{key:2,class:t([e.$style.lightboxNav,e.$style.lightboxNext]),onClick:E},a[7]||(a[7]=[l("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[l("polyline",{points:"9 18 15 12 9 6"})],-1)]),2)):g("",!0),l("div",{class:t(e.$style.lightboxCounter)},r(u.value+1)+" / "+r(c.value.length),3)],2)):g("",!0)]),_:1})]))],10,ae)}}}),oe="_page_c88q4_3",ie="_breadcrumb_c88q4_17",ce="_breadcrumbLink_c88q4_39",ue="_breadcrumbSeparator_c88q4_63",ge="_breadcrumbCurrent_c88q4_71",ye="_backButton_c88q4_91",ve="_loading_c88q4_145",me="_error_c88q4_147",de="_spinner_c88q4_167",be="_spin_c88q4_167",he="_article_c88q4_221",_e="_articleContent_c88q4_233",pe="_mainImageWrapper_c88q4_251",we="_mainImage_c88q4_251",ke="_badge_c88q4_285",$e="_title_c88q4_329",qe="_meta_c88q4_351",Ie="_metaItem_c88q4_371",Ce="_metaText_c88q4_393",fe="_metaLabel_c88q4_405",Le="_metaValue_c88q4_415",xe="_content_c88q4_429",Ne="_paragraph_c88q4_543",Te="_bulletList_c88q4_565",Be="_gallery_c88q4_629",Se="_galleryTitle_c88q4_641",Me="_galleryTitleBar_c88q4_663",De="_galleryGrid_c88q4_695",Ve="_galleryItem_c88q4_709",Ae="_galleryItemLarge_c88q4_725",Ee="_galleryImage_c88q4_735",Re="_galleryOverlay_c88q4_757",He="_lightbox_c88q4_791",Ge="_lightboxClose_c88q4_811",Pe="_lightboxNav_c88q4_853",Oe="_lightboxPrev_c88q4_895",ze="_lightboxNext_c88q4_903",We="_lightboxImage_c88q4_911",Fe="_lightboxCounter_c88q4_925",Qe={page:oe,breadcrumb:ie,breadcrumbLink:ce,breadcrumbSeparator:ue,breadcrumbCurrent:ge,backButton:ye,loading:ve,error:me,spinner:de,spin:be,article:he,articleContent:_e,mainImageWrapper:pe,mainImage:we,badge:ke,title:$e,meta:qe,metaItem:Ie,metaText:Ce,metaLabel:fe,metaValue:Le,content:xe,paragraph:Ne,bulletList:Te,gallery:Be,galleryTitle:Se,galleryTitleBar:Me,galleryGrid:De,galleryItem:Ve,galleryItemLarge:Ae,galleryImage:Ee,galleryOverlay:Re,lightbox:He,lightboxClose:Ge,lightboxNav:Pe,lightboxPrev:Oe,lightboxNext:ze,lightboxImage:We,lightboxCounter:Fe,"lightbox-enter-active":"_lightbox-enter-active_c88q4_1237","lightbox-leave-active":"_lightbox-leave-active_c88q4_1239","lightbox-enter-from":"_lightbox-enter-from_c88q4_1247","lightbox-leave-to":"_lightbox-leave-to_c88q4_1249"},Ue={$style:Qe},Ye=ee(ne,[["__cssModules",Ue]]);export{Ye as default};
